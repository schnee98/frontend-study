# 👨‍🏫 week 29 - A

## ▣ 2장 : 타입스크립트의 타입 시스템

### ▣ ㄴ 아이템15 : 동적 데이터에 인덱스 시그니처 사용하기

### ▣ ㄴ 아이템16 : number 인덱스 시그니처보다는 Array, 튜플, ArrayLike를 사용하기

### ▣ ㄴ 아이템17 : 변경 관련된 오류 방지를 위해 readonly 사용하기

### ▣ ㄴ 아이템18 : 매핑된 타입을 사용하여 값을 동기화하기

---

### 1️⃣ Q. 다음 코드 중 올바르지 않은 인덱스 시그니처 또는 Record 타입의 사용을 고르세요. 그리고 그 이유를 설명해주세요.

```ts
// A. 인덱스 시그니처를 사용한 타입
type RocketA = {
    [key: string | number]: string;
};

// B. Record 타입에서 키의 유니온 타입 사용 ❌
type RocketB = Record<string | number, string>;

// C. Record 타입에서 미리 정의된 키만 사용
type RocketC = Record<"name" | "variant" | "thrust", string>;
```

RocketB는 올바르지 않습니다.  
`Record 타입`은 키의 타입을 단일 타입으로 고정해야 하기 때문에, 유니온 타입인 `string | number`는 사용할 수 없습니다.  
Record는 `Record<string, string>` 또는 `Record<number, string>`처럼 `하나의 타입만 허용`합니다.

<br/>

### 2️⃣ Q. 다음 중 잘못된 설명을 고르세요. 그리고 그 이유를 설명하세요.

**1. 숫자 키는 자바스크립트에서 문자열로 변환되어 사용됩니다.**

자바스크립트에서는 숫자를 키로 사용할 수 있지만, 내부적으로는 숫자 키를 문자열로 변환해서 처리합니다.  
 즉, array[1]과 array['1']은 같은 의미로 처리됩니다.

**2. 타입스크립트는 숫자 키와 문자열 키를 다르게 타입 체크할 수 있습니다.**

타입스크립트는 숫자 키를 허용하고, 문자열 키와 다르게 타입 체크를 할 수 있습니다.  
 자바스크립트의 런타임에서 숫자 키가 문자열로 변환된다는 점과 별개로, 타입스크립트는 컴파일 시점에 숫자와 문자열 키를 구분하여 체크합니다.

**3. `for in`을 사용할 때 배열의 키는 숫자로 처리됩니다.** ❌

for in은 배열을 순회할 때 `키가 문자열로 반환`되며, 이는 자바스크립트 런타임이 숫자 인덱스를 문자열로 변환하기 때문입니다.  
 반면 forEach는 배열의 인덱스를 숫자로 처리합니다.

**4. `ArrayLike` 타입은 배열과 유사하지만 `push`와 `concat` 메서드를 포함하지 않습니다.**

배열과 비슷한 구조를 갖되, 이러한 메서드가 필요 없는 경우 `ArrayLike` 타입을 사용하면 좋습니다.
이때 키는 여전히 문자열입니다.

---

정답: 3번

<br/>

### 3️⃣ Q. `readonly number[]`는 `number[]`의 서브타입이다 (O / X), 그 이유는 무엇인가요? ("keyword: 할당 가능성")

정답: **X.**

`readonly number[]`는 **일반 `number[]`의 서브타입이 아닙니다**.  
타입스크립트에서 **서브타입 관계는 할당 가능성에 의해 결정됩니다**.

`readonly` 배열은 **불변성**(immutable)을 보장하는 타입이므로, 변경 가능한 `number[]`에 할당할 수 없기 때문에 서브타입이 될 수 없습니다.

(반대로, `number[]`는 변경 가능하기 때문에 **`readonly number[]`로 할당할 수 있습니다**.)
