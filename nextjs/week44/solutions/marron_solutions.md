# nextjs

## Route Handlers, Middleware, Internationalization

1. dynamic 옵션의 값에 대해 설명해주세요.

```ts
export const dynamic = "auto";
// 'auto' | 'force-dynamic' | 'error' | 'force-static'
```

_답_

```
'auto' 최대한 데이터를 캐싱하고, 동적 데이터가 필요하면 동적 렌더링을 허용.ㅋ
'force-dynamic' 항상 동적 렌더링. 최신 데이터가 필요한 페이지(대시보드, 실시간 업데이트)
'error' 동적 렌더링 시 에러 발생. 정적 렌더링만 허용.
'force-static' 항상 정적 렌더링. 정적 콘텐츠(정적 블로그, 공지사항 페이지).

```

2. 미들웨어가 효과적으로 사용되는 경우와 그렇지 않은 경우 두가지씩 설명해주세요.

_답_

```
효과적인 상황:

- 인증 및 권한 부여:
  사용자 신원을 확인하고 특정 페이지나 API 라우트에 접근하기 전에 세션 쿠키를 확인합니다.

- 서버 측 리디렉션:
  특정 조건(예: 로케일, 사용자 역할)에 따라 서버 수준에서 사용자를 리디렉션합니다.

- 경로 재작성:
  요청 속성에 따라 경로를 동적으로 재작성하여 A/B 테스트, 기능 출시 또는 레거시 경로를 지원합니다.

- 봇 감지:
  리소스를 보호하기 위해 봇 트래픽을 감지하고 차단합니다.

- 로깅 및 분석:
  페이지나 API가 처리되기 전에 요청 데이터를 캡처하고 분석합니다.

- 기능 플래깅:
  기능을 동적으로 활성화 또는 비활성화하여 원활한 기능 출시 또는 테스트를 진행합니다.

아닌 상황:

- 복잡한 데이터 가져오기 및 조작:
  직접적인 데이터 가져오기나 조작을 위해 설계되지 않았으며, 이는 Route Handlers 또는 서버 측 유틸리티 내에서 수행해야 합니다.

- 무거운 계산 작업:
  가볍고 빠르게 응답해야 하며, 무거운 계산 작업이나 장기 실행 프로세스는 전용 Route Handlers 내에서 수행해야 합니다.

- 광범위한 세션 관리:
  기본적인 세션 작업을 관리할 수 있지만, 광범위한 세션 관리는 전용 인증 서비스 또는 Route Handlers 내에서 관리해야 합니다.

- 직접적인 데이터베이스 작업:
  데이터베이스 상호작용은 Route Handlers 또는 서버 측 유틸리티 내에서 수행해야 합니다.
```

3. 사용자의 브라우저 언어 설정을 사용하여 사용할 로케일을 선택하는 것이 좋습니다. 선호 언어를 변경하면 애플리케이션으로 들어오는 __________가 변경됩니다

_답_

```
Accept-Language 헤더
```
