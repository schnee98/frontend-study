# 👨‍🏫 week 18 - A

## ▣ 5.2.3장: useState와 Context동시에 사용해 보기

## ▣ 5.2.4장: 상태 관리 라이브러리 Recoil, Jotai, Zustand 살펴보기

### 1️⃣ Q. Recoil의 특징엔 뭐가 있나요?
Recoil은 React의 훅을 사용해 상태를 관리하는 라이브러리로, useRecoilState, useRecoilValue, useSetRecoilState 등의 훅을 통해 상태를 읽고 수정할 수 있습니다.  
이 훅들은 React의 기본 훅인 useState, useEffect와 유사하게 작동합니다.  
Recoil의 핵심 요소인 'atom'은 각각 고유한 key와 초기값을 가지며, 이 atom들은 애플리케이션의 상태 조각을 저장합니다.  
atom을 사용하는 모든 컴포넌트는 상태가 변경될 때 자동으로 리렌더링되며, 앱 최상단에서 <RecoilRoot/>을 통해 생성된 스토어에 등록됩니다.  
하지만 Recoil은 아직 실험 단계로, 프로덕션 환경에서의 안전성과 성능을 완전히 보장하지 못할 수도 있습니다.  

Recoil의 핵심 개념 중 하나는 atom입니다.  
atom은 Recoil에서 최소 상태의 단위를 나타내는 개념입니다.   
atom은 어플리케이션의 상태 조각을 저장하며, 이 atom을 구독하는 모든 컴포넌트는 atom의 상태가 변경될 때 자동으로 리렌더링됩니다.   
Recoil에서는 atom 함수를 사용하여 상태를 정의합니다. 각 atom은 고유한 key와 초기 default 값을 가집니다.  
  ```js
    // atoms.js 파일
    import { atom } from 'recoil';

    export const counterState = atom({
      key: 'counterState', // 고유한 키
      default: 0,          // 초기 상태 값
    });
  ```
React의 useState 훅과 유사한 방식으로 작동하지만, atom은 여러 컴포넌트 간에 공유될 수 있습니다.

1. 앱 최상단에 하나의 스토어를 만들고(`<RecoilRoot/>`로 생성된 Context의 스토어),
2. atom 이라는 상태단위를 그 스토어에 등록한다.
3. 그러면 컴포넌트는 recoil에서 제공하는 훅을 통해 atom의 상태변화를 구독하고 값이 변경되면 리렌더링을 실행해서 최신 atom 값을 가져오게된다.

<br/>

### 2️⃣ Q. Jotai의 특징엔 뭐가 있나요?
Jotai에도 atom이란 개념이 존재한다. 
Recoil과 마찬가지로 최소 단위의 상태를 의미한다. 하지만 Recoil과는 다르게 atom하나만으로 상태를 만드는 것 뿐만아니라 또 이에 파생된 상태를 만들수가있는것에서 차이가 있다.

그리고 atom을생성할 때 고유한 key를 필요로 했던 Recoil과는 다르게 Jotai는 atom 을  생성할 때 별도의 key 를 넘겨주지 않아도 된다.
즉, Jotai에서의 atom에는 따로 상태를 저장하고 있지 않다.

Jotai에서는 atom이 구체적인 상태 값 자체를 내부에 저장하지 않습니다.  
대신, 각 atom은 상태를 정의하며, 실제 상태 값은 React 컴포넌트의 트리 내에서 관리됩니다. 이는 Jotai가 상태를 관리하는 방식이 React의 Context API를 기반으로 하지 않기 때문입니다.  

반면, Jotai는 Recoil과는 다르게 컴포넌트 루트 레벨에서 Context가 존재하지 않아도 된다.(Context-Free 구조)
Jotai는 Context를 사용하지 않고, 각 컴포넌트에서 직접적으로 atom을 사용함으로써 상태를 관리합니다.  
이는 Jotai의 설계가 더욱 모듈화되어 있고, 상태 관리가 각 컴포넌트에 더 가까이 위치하게 만들어 줍니다.  
이 구조 덕분에 Jotai는 더 나은 성능과 함께 보다 간결한 상태 관리를 제공할 수 있습니다.  
컴포넌트 레벨에서 직접 상태를 관리하기 때문에, 전역 상태 관리를 위해 별도의 루트 컨텍스트가 필요하지 않습니다.

<br/>

### 3️⃣ Q. Zustand의 특징엔 뭐가 있나요?
리덕스에 영감을 받아서 만들어졌다.  
즉 atom이라는 개념으로 최소 단위의 상태를 관리하는 것이 아니라 하나의 스토어를 중앙집중형으로 활용해 이 스토어 내부에서 상태를 관리합니다.  
특별히 많은 코드를 작성하지 않아도 빠르게 스토어를 만들고 사용할 수 있다는 큰 장점이 있습니다.  
라이브러리의 크기가 다른 라이브러리와는 다르게 매우 가볍다.  
  
Jotai와 마찬가지로 타입스크립트 기반으로 작성돼 있기 때문에 별도로 @types를 설치할 필요가 없다.  
리덕스와 마찬가지로 미들웨어를 지원한다.  
  
미들웨어는 요청을 처리하는 도중에 특정 로직을 실행할 수 있게 하는 중간 단계의 코드이다.  
  
Zustand에서는 상태 업데이트가 발생할 때 로깅(Logging)을 하여 상태 변화를 로그로 기록합니다.  
이는 개발 과정에서 상태 변화를 추적하고 디버깅하는 데 유용합니다.  
상태를 지속적으로 저장하는 등의 추가 기능을 미들웨어를 통해 쉽게 구현할 수 있습니다.  

<br/>

